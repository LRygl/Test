{"ast":null,"code":"import _objectSpread from\"C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{Formik}from'formik';import{Input,Button,Tag}from'antd';import{addNewStudent}from'../client.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var inputButtonMargin={marginBottom:'5px'};var tagStyle=_objectSpread({backgroundColor:'#f50',color:'white'},inputButtonMargin);var AddStudentForm=function AddStudentForm(props){return/*#__PURE__*/_jsx(Formik//Hodnoty pro nově inicializovaný modal\n,{initialValues:{firstName:'',lastName:'',email:'',gender:''}//????\n,validate:function validate(values){//Do errors ukládáme všechny chyby které nakonec vypíšeme\nvar errors={};//Validace křestního jména\nif(!values.firstName){errors.firstName='First Name is required';}//Validace příjmení\nif(!values.lastName){errors.lastName='Last Name is required';}//Validace hodnoty emailu jako regex\nif(!values.email){errors.email='Required';}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email='Invalid email address';}//Validace pohlaví\nif(!values.gender){errors.gender='Gender is required';}else if(!['MALE','male','FEMALE','female'].includes(values.gender)){errors.gender='Gender must by MALE / FEMALE';}//Vypiš všechny chyby v errors\nreturn errors;},onSubmit:function onSubmit(newStudent,_ref){var setSubmitting=_ref.setSubmitting;addNewStudent(newStudent).then(function(){//alert(JSON.stringify(newStudent));\nprops.onSuccess();}).catch(function(err){props.onFailure(err);}).finally(function(){setSubmitting(false);});},children:function children(_ref2){var values=_ref2.values,errors=_ref2.errors,touched=_ref2.touched,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,handleSubmit=_ref2.handleSubmit,isSubmitting=_ref2.isSubmitting,submitForm=_ref2.submitForm,isValid=_ref2.isValid;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{style:inputButtonMargin,name:\"firstName\",onChange:handleChange,onBlur:handleBlur,value:values.firstName,placeholder:\"First Name\"}),errors.firstName&&touched.firstName&&/*#__PURE__*/_jsx(Tag,{style:tagStyle,children:errors.firstName}),/*#__PURE__*/_jsx(Input,{style:inputButtonMargin,name:\"lastName\",onChange:handleChange,onBlur:handleBlur,value:values.lastName,placeholder:\"Last Name\"}),errors.lastName&&touched.lastName&&/*#__PURE__*/_jsx(Tag,{style:tagStyle,children:errors.lastName}),/*#__PURE__*/_jsx(Input,{style:inputButtonMargin,name:\"email\",type:\"email\",onChange:handleChange,onBlur:handleBlur,value:values.email,placeholder:\"Email\"}),errors.email&&touched.email&&/*#__PURE__*/_jsx(Tag,{style:tagStyle,children:errors.email}),/*#__PURE__*/_jsx(Input,{style:inputButtonMargin,name:\"gender\",onChange:handleChange,onBlur:handleBlur,value:values.gender,placeholder:\"Gender\"}),errors.gender&&touched.gender&&/*#__PURE__*/_jsx(Tag,{style:tagStyle,children:errors.gender}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return submitForm();},type:\"submit\",disabled:isSubmitting|(touched&&!isValid),children:\"Submit\"})]});}});};export default AddStudentForm;","map":{"version":3,"sources":["C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/src/forms/AddStudentForm.js"],"names":["Formik","Input","Button","Tag","addNewStudent","inputButtonMargin","marginBottom","tagStyle","backgroundColor","color","AddStudentForm","props","firstName","lastName","email","gender","values","errors","test","includes","newStudent","setSubmitting","then","onSuccess","catch","err","onFailure","finally","touched","handleChange","handleBlur","handleSubmit","isSubmitting","submitForm","isValid"],"mappings":"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","sourcesContent":["import { Formik } from 'formik';\r\nimport { Input, Button, Tag } from 'antd';\r\nimport { addNewStudent } from '../client.js';\r\n\r\nconst inputButtonMargin = {marginBottom: '5px'};\r\nconst tagStyle = {backgroundColor: '#f50', color: 'white', ...inputButtonMargin};\r\n\r\nconst AddStudentForm = (props) => (\r\n    <Formik\r\n//Hodnoty pro nově inicializovaný modal\r\n    initialValues={{ firstName: '', lastName: '', email: '', gender:''}}\r\n    //????\r\n    validate={values => {\r\n        //Do errors ukládáme všechny chyby které nakonec vypíšeme\r\n        const errors = {};\r\n\r\n        //Validace křestního jména\r\n        if (!values.firstName) {\r\n            errors.firstName = 'First Name is required'\r\n        }\r\n        \r\n        //Validace příjmení\r\n        if (!values.lastName) {\r\n            errors.lastName = 'Last Name is required'\r\n        }\r\n\r\n        //Validace hodnoty emailu jako regex\r\n        if (!values.email) {\r\n            errors.email = 'Required';\r\n        } else if (\r\n        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n        ) {\r\n            errors.email = 'Invalid email address';\r\n        }\r\n\r\n        //Validace pohlaví\r\n        if (!values.gender) {\r\n            errors.gender = 'Gender is required'\r\n        } else if (!['MALE','male','FEMALE','female'].includes(values.gender)){\r\n            errors.gender = 'Gender must by MALE / FEMALE'\r\n        }\r\n        //Vypiš všechny chyby v errors\r\n        return errors;\r\n\r\n        }}\r\n        onSubmit={(newStudent, { setSubmitting }) => {\r\n            addNewStudent(newStudent).then(() => {\r\n                //alert(JSON.stringify(newStudent));\r\n                props.onSuccess();\r\n            })\r\n            .catch(err=>{\r\n                props.onFailure(err);\r\n            })\r\n            .finally(()=>{\r\n                setSubmitting(false);\r\n            })\r\n            \r\n        }}>\r\n    {({\r\n        values,\r\n        errors,\r\n        touched,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        submitForm,\r\n        isValid\r\n        /* and other goodies */\r\n        //Jednotlivé input fieldy a jejich vlastnosti - style je definovaný const na začátku dokument\r\n    }) => (\r\n        <form onSubmit={handleSubmit}>\r\n            \r\n            <Input\r\n                style={inputButtonMargin}\r\n                name=\"firstName\"\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.firstName}\r\n                placeholder='First Name'\r\n            />\r\n            {errors.firstName && touched.firstName && <Tag style={tagStyle}>{errors.firstName}</Tag>}\r\n            <Input\r\n                style={inputButtonMargin}\r\n                name=\"lastName\"\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.lastName}\r\n                placeholder='Last Name'\r\n            />\r\n            {errors.lastName && touched.lastName && <Tag style={tagStyle}>{errors.lastName}</Tag>}\r\n\r\n\r\n            <Input\r\n                style={inputButtonMargin}\r\n                name=\"email\"\r\n                type=\"email\"\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.email}\r\n                placeholder='Email'\r\n            />\r\n            {errors.email && touched.email && <Tag style={tagStyle}>{errors.email}</Tag>}\r\n\r\n            <Input\r\n                style={inputButtonMargin}\r\n                name=\"gender\"\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.gender}\r\n                placeholder='Gender'\r\n            />\r\n            {errors.gender && touched.gender && <Tag style={tagStyle}>{errors.gender}</Tag>}\r\n\r\n            <Button \r\n                onClick={()=>submitForm()} \r\n                type=\"submit\" \r\n                disabled={isSubmitting | (touched && !isValid)}>\r\n                Submit\r\n            </Button>\r\n\r\n        </form>\r\n    )}\r\n    </Formik>\r\n);\r\n\r\nexport default AddStudentForm;"]},"metadata":{},"sourceType":"module"}