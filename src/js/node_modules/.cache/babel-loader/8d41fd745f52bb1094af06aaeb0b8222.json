{"ast":null,"code":"import _classCallCheck from\"C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'./Container';import Footer from'./Footer';import'./App.css';import{getAllStudents}from'./client';import AddStudentForm from'./forms/AddStudentForm';import{errorNotification,successNotification}from'./Notification';import{Table,Avatar,Modal,Empty,Icon}from\"antd\";import{LoadingOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getIndicatorIcon=function getIndicatorIcon(){return/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'48px'},spin:true});};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={students:[],isFetching:false,isAddStudentModalVisible:false};_this.openAddStudentModal=function(){return _this.setState({isAddStudentModalVisible:true});};_this.closeAddStudentModal=function(){return _this.setState({isAddStudentModalVisible:false});};_this.fetchStudents=function(){//Nastav state pro spinner -> načítám data\n_this.setState({isFetching:true});//Vypiš všechny studenty do students a do logu\ngetAllStudents().then(function(res){return res.json().then(function(students){console.log(students);//vrací hodnotu do students a nastaví fetching na false -> dokončeno fetchovani\n_this.setState({students:students,isFetching:false});});}).catch(function(error){console.log(error.error);var message=error.error.message;var description=error.error.error;errorNotification(message,description);_this.setState({isFetching:false});});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchStudents();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,students=_this$state.students,isFetching=_this$state.isFetching,isAddStudentModalVisible=_this$state.isAddStudentModalVisible;// Common elements modal a footer pro stránku Ok a No studentFound\nvar commonElements=function commonElements(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{title:\"+ Add New Student}\",visible:isAddStudentModalVisible,onOk:_this2.closeAddStudentModal,onCancel:_this2.closeAddStudentModal,width:250,children:/*#__PURE__*/_jsx(AddStudentForm,{onSuccess:function onSuccess(){_this2.closeAddStudentModal();_this2.fetchStudents();},onFailure:function onFailure(error){var message=error.error.message;var description=error.error.httpStatus;console.log(JSON.stringify(error));errorNotification(message,description);}})}),/*#__PURE__*/_jsx(Footer,{numberOfStudents:students.length,handleAddStudentClickEvent:_this2.openAddStudentModal})]});};if(isFetching){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(LoadingOutlined,{indicator:getIndicatorIcon()})});}//pokud students !empty vytisnkni studenty, jinak ->\nif(students&&students.length){//Sloupce tabulky + AVATAR vytvoření z prvních písmen frsn a lasn\nvar columns=[{title:'',key:'Avatar',render:function render(text,student){return/*#__PURE__*/_jsx(Avatar,{size:\"large\",children:\"\".concat(student.firstName.charAt(0).toUpperCase()).concat(student.lastName.charAt(0).toUpperCase())});}},{title:'Student Id',dataIndex:'studentId',key:'studentId'},{title:'firstName',dataIndex:'firstName',key:'firstName'},{title:'lastName',dataIndex:'lastName',key:'lastName'},{title:'email',dataIndex:'email',key:'email'},{title:'gender',dataIndex:'gender',key:'gender'}];//samotný print obsahu zdroj, sloupce, pagintation a podle čeho bereme studenty\n//Container dělá odsazení tabulky od okrajů a je v Container.JS\nreturn/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Table,{style:{marginBottom:'70px'},dataSource:students,columns:columns,pagination:false,rowKey:\"studentId\"}),commonElements()]});}// POkud neexistuje žádný student, zobraz hlášku\nreturn/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Empty,{description:/*#__PURE__*/_jsx(\"h1\",{children:\"No Students were found\"})}),commonElements()]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/moro/Desktop/Java/SpringRestAPI/src/js/src/App.js"],"names":["React","Component","Container","Footer","getAllStudents","AddStudentForm","errorNotification","successNotification","Table","Avatar","Modal","Empty","Icon","LoadingOutlined","getIndicatorIcon","fontSize","App","state","students","isFetching","isAddStudentModalVisible","openAddStudentModal","setState","closeAddStudentModal","fetchStudents","then","res","json","console","log","catch","error","message","description","commonElements","httpStatus","JSON","stringify","length","columns","title","key","render","text","student","firstName","charAt","toUpperCase","lastName","dataIndex","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Container from './Container';\r\nimport Footer from './Footer';\r\nimport './App.css';\r\nimport {getAllStudents } from './client';\r\nimport AddStudentForm from './forms/AddStudentForm';\r\nimport {errorNotification, successNotification} from './Notification';\r\nimport {Table, Avatar, Modal, Empty, Icon} from \"antd\";\r\nimport {LoadingOutlined} from '@ant-design/icons';\r\n\r\n\r\nconst getIndicatorIcon = () => <LoadingOutlined style={{ fontSize: '48px'}} spin/>;\r\n\r\nclass App extends Component{\r\n\r\n  //Nastav students na empty \r\n  //Nastav spinner na false\r\nstate = {\r\n  students: [],\r\n  isFetching: false,\r\n  isAddStudentModalVisible: false\r\n}\r\n\r\ncomponentDidMount(){\r\n  this.fetchStudents();\r\n}\r\n\r\n\r\nopenAddStudentModal = () => this.setState({isAddStudentModalVisible:true})\r\ncloseAddStudentModal = () => this.setState({isAddStudentModalVisible:false})\r\n\r\n//Metoda pro získání všech studentů z JSON\r\nfetchStudents = ()=> {\r\n  //Nastav state pro spinner -> načítám data\r\n  this.setState({\r\n    isFetching: true\r\n  });\r\n  //Vypiš všechny studenty do students a do logu\r\n  getAllStudents()\r\n    .then(res => res.json()\r\n    .then(students => {\r\n      console.log(students);\r\n      //vrací hodnotu do students a nastaví fetching na false -> dokončeno fetchovani\r\n      this.setState({\r\n        students,\r\n        isFetching: false\r\n      });\r\n  }))\r\n  .catch(error => {\r\n    console.log(error.error);\r\n    const message = error.error.message;\r\n    const description = error.error.error;\r\n    errorNotification(message, description);\r\n    this.setState({\r\n      isFetching: false\r\n    });\r\n  });\r\n}\r\n\r\nrender() {\r\n\r\n    const {students, isFetching, isAddStudentModalVisible} = this.state;\r\n\r\n    // Common elements modal a footer pro stránku Ok a No studentFound\r\n    const commonElements = () => (\r\n      <div>\r\n        <Modal\r\n          title='+ Add New Student}'\r\n          visible={isAddStudentModalVisible}\r\n          onOk={this.closeAddStudentModal}\r\n          onCancel={this.closeAddStudentModal}\r\n          width={250}>\r\n          \r\n            <AddStudentForm \r\n              onSuccess={()=>{\r\n                this.closeAddStudentModal();\r\n                this.fetchStudents();\r\n              }}\r\n              onFailure={(error)=> {\r\n                const message = error.error.message;\r\n                const description = error.error.httpStatus;\r\n                console.log(JSON.stringify(error));\r\n                errorNotification(message,description);\r\n              }}\r\n            />\r\n        </Modal>\r\n        <Footer \r\n          numberOfStudents={students.length}\r\n          handleAddStudentClickEvent={this.openAddStudentModal}>\r\n        </Footer>\r\n      </div>\r\n    )\r\n\r\n    if (isFetching){\r\n      return(\r\n        <Container>\r\n          <LoadingOutlined indicator={getIndicatorIcon()}/>\r\n        </Container>\r\n      )\r\n    }\r\n\r\n    //pokud students !empty vytisnkni studenty, jinak ->\r\n    if (students && students.length) {\r\n      \r\n      //Sloupce tabulky + AVATAR vytvoření z prvních písmen frsn a lasn\r\n      const columns = [\r\n        {\r\n        title: '',\r\n        key: 'Avatar',\r\n        render:(text,student)=>(\r\n            <Avatar size='large'>\r\n              {`${student.firstName.charAt(0).toUpperCase()}${student.lastName.charAt(0).toUpperCase()}`}\r\n            </Avatar>\r\n          )\r\n        },\r\n      \r\n        {\r\n          title: 'Student Id',\r\n          dataIndex: 'studentId',\r\n          key: 'studentId'\r\n        },\r\n        {\r\n          title: 'firstName',\r\n          dataIndex: 'firstName',\r\n          key: 'firstName'\r\n        },\r\n        {\r\n          title: 'lastName',\r\n          dataIndex: 'lastName',\r\n          key: 'lastName'\r\n        },\r\n        {\r\n          title: 'email',\r\n          dataIndex: 'email',\r\n          key: 'email'\r\n        },\r\n        {\r\n          title: 'gender',\r\n          dataIndex: 'gender',\r\n          key: 'gender'\r\n        },\r\n      ];\r\n//samotný print obsahu zdroj, sloupce, pagintation a podle čeho bereme studenty\r\n//Container dělá odsazení tabulky od okrajů a je v Container.JS\r\n      return (\r\n        <Container>  \r\n          <Table \r\n            style={{marginBottom:'70px'}}\r\n            dataSource={students} \r\n            columns={columns} \r\n            pagination={false}\r\n            rowKey='studentId' \r\n          />\r\n        {commonElements()}\r\n        </Container>\r\n\r\n      );\r\n\r\n    }\r\n    // POkud neexistuje žádný student, zobraz hlášku\r\n    return (\r\n      <Container>\r\n        <Empty description={\r\n          <h1>No Students were found</h1>\r\n        } />\r\n        {commonElements()}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}